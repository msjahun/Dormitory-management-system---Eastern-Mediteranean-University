@using  Dau.Services.Domain.RoomServices
@model RoomViewCrud 
@{
    ViewData["Title"] = Localizer["Add room"];
    Layout = "~/Areas/Admin/Views/shared/_LayoutAdmin.cshtml";
}

<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <h1>
            @ViewData["Title"]
            <small><a asp-action="Rooms" asp-controller="Catalog"><i class="fa fa-arrow-circle-left"></i> @Localizer["back to rooms list"]</a></small>
        </h1>
        <div class="row">
            <div class=" col-md-12">
                <div class="upper_left pull-right">

                    <button type="submit" form="addForm" class="btn btn-primary "> <i class="fa fa-floppy-o"></i> @Localizer["Save"]</button>
                    <button type="submit" form="addForm" class="btn btn-primary "> <i class="fa fa-floppy-o"></i> @Localizer["Save and Continue Edit"]</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Main content -->
    <!-- Main content -->
    <section class="content container-fluid">
        <!--------------------------
    | Your Page Content Here |
    -------------------------->
      
        <div class="col-md-12">
            <!-- Horizontal Form -->
            <div class="nav-tabs-custom">
                <ul class="nav nav-tabs">
                    <li class="active"><a href="#tab_3" data-toggle="tab" aria-expanded="true">@Localizer["Room info"]</a></li>
                    <li class=""><a href="#tab_2" data-toggle="tab" aria-expanded="false">@Localizer["Pictures"]</a></li>
                    <li class=""><a href="#tab_5" data-toggle="tab" aria-expanded="false">@Localizer["Room Features"]</a></li>
                </ul>
                <div class="tab-content">
                    <!-- /.tab-pane -->
                    <div class="tab-pane active " id="tab_3">
                        <form class="form-horizontal" method="post" id="addForm" asp-controller="Catalog" asp-action="RoomAdd">
                            <div class="row">

                                <div class="col-md-6" id="first_column">

                                    <div class="box box-solid">
                                        <div class="box-header">@Localizer["General information"]</div>
                                        <!-- /.box-header -->
                                        <!-- form start -->

                                        <div class="box-body">

                                            <div style="color:red;" asp-validation-summary="All"></div>


                                            <dau-tabs id="LocalizedContentTab">



                                                <dau-tab id="tab2" name="English" active="true" flag="@Url.Content("~/Content/")dist/img/us.png">
                                                    <div class="form-group">
                                                        <dau-label asp-for="localizedContent[0].RoomName"></dau-label>
                                                        <dau-input asp-for="localizedContent[0].RoomName" type="text"></dau-input>
                                                        <span asp-validation-for="localizedContent[0].RoomName"></span>
                                                    </div>

                                                    <div class="form-group">
                                                        <dau-label asp-for="localizedContent[0].GenderAllocation"> </dau-label>
                                                        <dau-input asp-for="localizedContent[0].GenderAllocation"></dau-input>
                                                        <span asp-validation-for="localizedContent[0].GenderAllocation"></span>
                                                    </div>

                                                    <div class="form-group">
                                                        <dau-label asp-for="localizedContent[0].BedType"> </dau-label>
                                                        <dau-input asp-for="localizedContent[0].BedType"></dau-input>
                                                        <span asp-validation-for="localizedContent[0].BedType"></span>
                                                    </div>

                                                </dau-tab>

                                                <dau-tab id="tab3" name="Turkish" flag="@Url.Content("~/Content/")dist/img/tr.png">

                                                    <div class="form-group">
                                                        <dau-label asp-for="localizedContent[1].RoomName"></dau-label>
                                                        <dau-input asp-for="localizedContent[1].RoomName" type="text"></dau-input>
                                                        <span asp-validation-for="localizedContent[1].RoomName"></span>
                                                    </div>


                                                    <div class="form-group">
                                                        <dau-label asp-for="localizedContent[1].GenderAllocation"> </dau-label>
                                                        <dau-input asp-for="localizedContent[1].GenderAllocation"></dau-input>
                                                        <span asp-validation-for="localizedContent[1].GenderAllocation"></span>
                                                    </div>

                                                    <div class="form-group">
                                                        <dau-label asp-for="localizedContent[1].BedType"> </dau-label>
                                                        <dau-input asp-for="localizedContent[1].BedType"></dau-input>
                                                        <span asp-validation-for="localizedContent[1].BedType"></span>
                                                    </div>

                                                </dau-tab>
                                            </dau-tabs>




                                            <div class="box box-solid">
                                                <div class="box-header">@Localizer["Prices"]</div>
                                                <!-- /.box-header -->
                                                <!-- form start -->

                                                <div class="box-body">


                                                    <div class="form-group">

                                                        <dau-label asp-for="Price"></dau-label>
                                                        <dau-inputaddon type="number" asp-for="Price" cols="4" text="TRY" min="0"></dau-inputaddon>
                                                        <span asp-validation-for="Price"></span>

                                                    </div>

                                                    <div class="form-group">
                                                        <dau-label asp-for="OldPrice"></dau-label>
                                                        <dau-inputaddon type="number" asp-for="OldPrice" cols="4" text="TRY" min="0"></dau-inputaddon>

                                                        <span asp-validation-for="OldPrice"></span>

                                                    </div>

                                                    <div class="form-group">

                                                        <dau-label asp-for="ShowPrice"></dau-label>
                                                        <div class="col-sm-8">
                                                            <input asp-for="ShowPrice" type="checkbox">
                                                        </div>
                                                        <span asp-validation-for="ShowPrice"></span>

                                                    </div>


                                                    <div class="form-group">
                                                        <dau-label asp-for="RoomCost"></dau-label>
                                                        <dau-inputaddon type="number" asp-for="RoomCost" cols="4" text="TRY"></dau-inputaddon>
                                                        <span asp-validation-for="RoomCost"></span>
                                                    </div>

                                                    <div class="form-group">
                                                        <dau-label asp-for="TaxAmount"></dau-label>
                                                        <dau-inputaddon type="number" asp-for="TaxAmount" cols="4" text="TRY" min="0"></dau-inputaddon>

                                                        <span asp-validation-for="TaxAmount"></span>

                                                    </div>

                                                    <div class="form-group">
                                                        <dau-label asp-for="BookingFee"></dau-label>
                                                        <dau-inputaddon type="number" asp-for="BookingFee" cols="4" text="TRY" min="0"></dau-inputaddon>

                                                        <span asp-validation-for="BookingFee"></span>

                                                    </div>

                                                    <div class="form-group">

                                                        <dau-label asp-for="PaymentPerSemesterNotYear"></dau-label>
                                                        <div class="col-sm-8">
                                                            <input asp-for="PaymentPerSemesterNotYear" type="checkbox">
                                                        </div>
                                                        <span asp-validation-for="PaymentPerSemesterNotYear"></span>

                                                    </div>

                                                    <div class="form-group">

                                                        <dau-label asp-for="HasDeposit"></dau-label>
                                                        <div class="col-sm-8">
                                                            <input asp-for="HasDeposit" type="checkbox">
                                                        </div>
                                                        <span asp-validation-for="HasDeposit"></span>

                                                    </div>



                                                    @*<div class="form-group">

                                                        <dau-label asp-for="Discounts"></dau-label>
                                                        <dau-select asp-for="Discounts" multiple-select="true"></dau-select>
                                                        <span asp-validation-for="Discounts"></span>
                                                    </div>*@



                                                </div>
                                            </div>




                                            <div class="form-group">
                                                <dau-label asp-for="NoOfStudents"></dau-label>
                                                <dau-input asp-for="NoOfStudents" type="number"></dau-input>
                                                <span asp-validation-for="NoOfStudents"></span>
                                            </div>

                                            <div class="form-group">
                                                <dau-label asp-for="RoomSize"></dau-label>
                                                <dau-input asp-for="RoomSize" type="number"></dau-input>
                                                <span asp-validation-for="RoomSize"></span>
                                            </div>

                                            <div class="form-group">
                                                <dau-label asp-for="SKU"></dau-label>
                                                <dau-input asp-for="SKU" type="text"></dau-input>
                                                <span asp-validation-for="SKU"></span>
                                            </div>

                                            <div class="form-group">
                                                <dau-label asp-for="Published"></dau-label>
                                                <div class="col-sm-8">
                                                    <input asp-for="Published" type="checkbox">
                                                </div>
                                                <span asp-validation-for="Published"></span>
                                            </div>

                                            <div class="form-group">
                                                <dau-label asp-for="DisplayOrder"></dau-label>
                                                <dau-input asp-for="DisplayOrder" type="number"></dau-input>
                                                <span asp-validation-for="DisplayOrder"></span>
                                            </div>






                                            <div class="form-group">

                                                <dau-label asp-for="MarkAsNew"></dau-label>
                                                <div class="col-sm-8">
                                                    <input asp-for="MarkAsNew" type="checkbox">
                                                </div>
                                                <span asp-validation-for="MarkAsNew"></span>

                                            </div>


                                            <div class="form-group">

                                                <dau-label asp-for="AdminComment"></dau-label>
                                                <dau-textarea asp-for="AdminComment"></dau-textarea>
                                                <span asp-validation-for="AdminComment"></span>

                                            </div>





                                        </div>
                                    </div>


                                </div>



                                <div class="col-md-6" id="second_column">

                                    <div class="box box-solid">
                                        <div class="box-header">@Localizer["Inventory"]</div>
                                        <!-- /.box-header -->
                                        <!-- form start -->

                                        <div class="box-body">
                                            <div class="form-horizontal">
                                                <div class="form-group">
                                                    <dau-label asp-for="RoomQuota"></dau-label>
                                                    <dau-input asp-for="RoomQuota" type="number"></dau-input>
                                                    <span asp-validation-for="RoomQuota"></span>

                                                </div>

                                                <div class="form-group">

                                                    <dau-label asp-for="DisplayNoRoomsLeft"></dau-label>
                                                    <div class="col-sm-8">
                                                        <input asp-for="DisplayNoRoomsLeft" type="checkbox">
                                                    </div>
                                                    <span asp-validation-for="DisplayNoRoomsLeft"></span>

                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="box box-solid">
                                        <div class="box-header">@Localizer["Discount deal/offer"]</div>
                                        <!-- /.box-header -->
                                        <!-- form start -->

                                        <div class="box-body">
                                            <div class="form-horizontal">

                                                <div class="form-group">
                                                    <dau-label asp-for="DealEndTime"></dau-label>
                                                    <dau-date asp-for="DealEndTime"></dau-date>
                                                    <span asp-validation-for="DealEndTime"></span>

                                                </div>

                                                <div class="form-group">
                                                    <dau-label asp-for="PercentageOff"></dau-label>
                                                    <dau-input asp-for="PercentageOff" type="number"></dau-input>
                                                    <span asp-validation-for="PercentageOff"></span>

                                                </div>

                                                <div class="form-group">

                                                    <dau-label asp-for="DisplayDeal"></dau-label>
                                                    <div class="col-sm-8">
                                                        <input asp-for="DisplayDeal" type="checkbox">
                                                    </div>
                                                    <span asp-validation-for="DisplayDeal"></span>

                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="box box-solid">
                                        <div class="box-header">@Localizer["Mappings"]</div>
                                        <!-- /.box-header -->
                                        <!-- form start -->

                                        <div class="box-body">
                                            <div class="form-horizontal">
                                                <div class="form-group">
                                                    <dau-label asp-for="Dormitory"></dau-label>
                                                    <div class="col-sm-8">
                                                        <select asp-for="Dormitory" asp-items="_dropdown.Dormitories()" id="DormitorySelect" class="form-control select2 select2-hidden-accessible" style="width: 100%;" tabindex="-1" aria-hidden="true"></select>
                                                    </div>
                                                    <span asp-validation-for="Dormitory"></span>

                                                </div>

                                                <div class="form-group">
                                                    <dau-label asp-for="DormitoryBlock"></dau-label>
                                                    <div class="col-sm-8">
                                                        <select asp-for="DormitoryBlock" id="DormitoryBlockSelect" class="form-control select2 select2-hidden-accessible" style="width: 100%;" tabindex="-1" aria-hidden="true"></select>
                                                    </div>
                                                    <span asp-validation-for="DormitoryBlock"></span>

                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                            </div>

                        </form>
                    </div>
                    <!-- /.tab-pane -->
                    <!-- /.tab-pane -->
                    <div class="tab-pane" id="tab_2">
                        <div class="box box-solid">


                            <div class="box-body">

                                <p>@Localizer["You need to save the room before you can upload pictures for this room page"]</p>

                            </div>
                        </div>
                    </div>



                    <div class="tab-pane" id="tab_5">
                        <div class="box box-solid">
                            <div class="box-header">
                                <p>
                                    @Localizer["Specificatino attributes are room features i.e, Bed size, room size and so on. Specification attributes can be used for filtering rooms on the Dormitory detail page. Unlike room attributes, specification attributes are used for information purpose only."]
                                </p>
                            </div>

                            <div class="box-body">

                                <p>@Localizer["You need to save the room before you can add room specification attributes for this room page"]</p>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- /.tab-content -->
            </div>



        </div>
    </section>
    <!-- /.content -->
    <!-- /.content -->
</div>

@section styles {


    <link rel="stylesheet" href="@Url.Content("~/Content/")bower_components/bootstrap/dist/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="@Url.Content("~/Content/")bower_components/font-awesome/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="@Url.Content("~/Content/")bower_components/Ionicons/css/ionicons.min.css">
    <!-- DataTables -->
    <!--Select2-->
    <link rel="stylesheet" href="@Url.Content("~/Content/")bower_components/select2/dist/css/select2.min.css">

    <link rel="stylesheet" href="@Url.Content("~/Content/")bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">


    <!-- Theme style -->
    <link rel="stylesheet" href="@Url.Content("~/Content/")dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. Choose a skin from the css/skins
         folder instead of downloading all of them to reduce the load. -->
    <link rel="stylesheet" href="@Url.Content("~/Content/")dist/css/skins/_all-skins.min.css">
}


@section scripts
    {

    <script src="@Url.Content("~/Content/")bower_components/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap 3.3.7 -->
    <script src="@Url.Content("~/Content/")bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- AdminLTE App -->
    <script src="@Url.Content("~/Content/")dist/js/adminlte.min.js"></script>


    <script src="@Url.Content("~/Content/")bower_components/select2/dist/js/select2.full.min.js"></script>
    @*<script src="@Url.Content("~/Content/")bower_components/datatables.net/js/jquery.dataTables.min.js"></script>*@

    <script src="@Url.Content("~/Content/")bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>



    <!-- SlimScroll -->
    <script src="@Url.Content("~/Content/")bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>

    <script src="@Url.Content("~/Content/")bower_components/ckeditor/ckeditor.js"></script>
    <!-- FastClick -->
    <script src="@Url.Content("~/Content/")bower_components/fastclick/lib/fastclick.js"></script>
    <!-- AdminLTE App -->
    <!-- AdminLTE for demo purposes -->
    <script src="@Url.Content("~/Content/")dist/js/demo.js"></script>
    <!-- page script -->
    <script>
        $(function () {

            //CKEDITOR.replace('localizedContent[0].FullDescriptionId')
            //CKEDITOR.replace('localizedContent[1].FullDescriptionId')
            //CKEDITOR.replace('localizedContent[2].FullDescriptionId')
            function ajaxGetDormitoryBlocks(dormitoryId) {
                $.ajax({
                    type: "POST",
                    url: "GetDormitoryBlockByDormitoryIdDropdown/?id=" + dormitoryId,
                    data: {
                        SectionId: "_dormitoryBlockDropdown"

                    },
                    success: function (result) {
                        $("#DormitoryBlockSelect").html("");
                        for (i = 0; i < result.length; i++) {
                            $("#DormitoryBlockSelect").append("<option value=\"" + result[i].value + "\"> " + result[i].text + "</option>");
                        }




                    }
                });
            }
            ajaxGetDormitoryBlocks(document.getElementById('DormitorySelect').value);
            $('#DormitorySelect').on('change', function () {
                console.log(this.value);
                ajaxGetDormitoryBlocks(this.value);
            });
            $('.date-control').datepicker({
                autoclose: true,
                orientation: "left bottom",
            })

            //Initialize Select2 Elements
            $('.select2').select2()

            ///Intialize datepicker
            $('#datepicker').datepicker({
                autoclose: true
            })



        });

    </script>
}

